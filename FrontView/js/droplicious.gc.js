var dropliciousMenu=Class.create({showingUpDuration:0.3,hidingDuration:0.1,hideDelay:0,initialize:function(){$$("a.drops").invoke("observe","mousemove",this.linkMouseOver.bind(this));$$("a.drops").invoke("observe","mouseout",this.linkMouseOut.bind(this));$$("ul.licious").invoke("observe","mousemove",this.submenuMouseOver.bind(this));$$("ul.licious").invoke("observe","mouseout",this.submenuMouseOut.bind(this))},showUpEffect:function(a,b){a.visible()||new Effect.BlindDown(a,{duration:b,queue:{position:"end",
scope:a.identify(),limit:2}})},hidingEffect:function(a,b){new Effect.BlindUp(a,{duration:b,queue:{position:"end",scope:a.identify(),limit:2}})},linkMouseOut:function(a){(a=a.element().next())&&a.hasClassName("active")&&this.setDelayedHide(a)},linkMouseOver:function(a){if(a=a.element().next())a.hasClassName("hidding")||a.removeClassName("waitingtohide"),a.hasClassName("active")||(a.addClassName("active"),this.showUpEffect(a,this.showingUpDuration))},submenuMouseOut:function(a){(a=a.findElement("ul"))&&
a.hasClassName("active")&&this.setDelayedHide(a)},submenuMouseOver:function(a){(a=a.findElement("ul"))&&!a.hasClassName("hidding")&&a.removeClassName("waitingtohide")},setDelayedHide:function(a){a.addClassName("waitingtohide");!a.hasClassName("hidding")&&!a.hasClassName("hiddingtimerset")&&(a.addClassName("hiddingtimerset"),function(a,c){a.delayedHide(c)}.delay(this.hideDelay,this,a))},delayedHide:function(a){a.removeClassName("hiddingtimerset");a.hasClassName("waitingtohide")&&(this.hidingEffect(a,
this.hidingDuration),a.addClassName("hidding"),function(a){a.removeClassName("waitingtohide");a.removeClassName("hidding");a.removeClassName("active")}.delay(this.hidingDuration,a))}});document.observe("dom:loaded",function(){new dropliciousMenu});
