var MyTabPanel=Class.create();
MyTabPanel.prototype={initialize:function(){this.options=Object.extend({},arguments[0]||{});this.tabId=this.options.TabId;this.currentIndex=this.options.Index;this.id=this.options.Id;this.currentChild=null;var c=$(this.tabId).firstChild,a=c.firstChild;this.tabChilds=[];this.contentChilds=[];for(var b=0;a;)a.id=this.tabId+"tab"+b,a.tbid=this.id,a.index=b,this._setClickEvent(a,b),this.currentIndex==b?(this.currentChild=a,a.className="Current"):a.className="",this.tabChilds[b]=a,a=a.nextSibling,b++;
this.totalIndex=b;b=0;for(a=c.nextSibling.firstChild;a;){if(a.tagName=="FORM")for(child1=a.firstChild;child1;)child1.id=this.tabId+"tabcontent"+b,child1.style.display=this.currentIndex==b?"":"none",this.contentChilds[b]=child1,child1=child1.nextSibling,b++;a.tagName=="DIV"&&a.className=="TabPanContent"?(a.id=this.tabId+"tabcontent"+b,a.style.display=this.currentIndex==b?"":"none",this.contentChilds[b]=a,a=a.nextSibling,b++):a=a.nextSibling}},_setClickEvent:function(c){c.onclick=function(){var a=eval(this.getAttribute("tbid"));
if(this!=a.currentChild){this.className="Current";a.currentChild.className="";var b=parseInt(a.currentChild.getAttribute("index"));a.contentChilds[b].style.display="none";a.currentChild=this;b=parseInt(this.getAttribute("index"));a.contentChilds[b].style.display=""}}},showTab:function(c){this.tabChilds[c].click()}};function addListener(c,a,b,d){d=d||!1;return window.addEventListener?(c.addEventListener(a,b,d),!0):window.attachEvent?(c.attachEvent("on"+a,b),!0):!1};
