Element.addMethods({ajaxUpdate:function(a,b,c){a=$(a);new Ajax.Updater(a,b,c);return a}});function treeOpen(a){var b=$(a).up("li");$(a).up("li").siblings().invoke("removeClassName","open");b.toggleClassName("open")}var dropDownMenu=Class.create();
dropDownMenu.prototype={initialize:function(a){this.cls=a;this.init()},init:function(){$$("'"+this.cls+"> li");$$("'"+this.cls+"> li").each(function(a,b){var c=a.down("div.popMenuBox");c&&c.setStyle({display:"none"});a.observe("mouseover",function(){alert(b);a.addClassName("hover");c&&new Effect.SlideDown(c)});a.observe("mouseout",function(){a.removeClassName("hover")})})}};
var dropliciousMenu=Class.create({showingUpDuration:0.3,hidingDuration:0.1,hideDelay:0,initialize:function(a){this.id=a;$$("'"+this.id+"> li");var a=$$("'"+this.id+"> li > a.uA"),b=$$("'"+this.id+"> li > div.popMenuBox");b&&b.invoke("setStyle",{display:"none"});a.invoke("observe","mousemove",this.linkMouseOver.bind(this));a.invoke("observe","mouseout",this.linkMouseOut.bind(this));b.invoke("observe","mousemove",this.submenuMouseOver.bind(this));b.invoke("observe","mouseout",this.submenuMouseOut.bind(this))},
showUpEffect:function(a,b){a.visible()||new Effect.BlindDown(a,{duration:b,queue:{position:"end",scope:a.identify(),limit:2}})},hidingEffect:function(a,b){new Effect.BlindUp(a,{duration:b,queue:{position:"end",scope:a.identify(),limit:2}})},menuOut:function(a){a.element().removeClassName("hover")},menuOver:function(a){a.element().addClassName("hover")},linkMouseOut:function(a){(a=a.findElement("a").next())&&a.hasClassName("active")&&this.setDelayedHide(a)},linkMouseOver:function(a){if(a=a.findElement("a").next())a.hasClassName("hidding")||
a.removeClassName("waitingtohide"),a.hasClassName("active")||(a.addClassName("active"),this.showUpEffect(a,this.showingUpDuration))},submenuMouseOut:function(a){(a=a.findElement("div.popMenuBox"))&&a.hasClassName("active")&&this.setDelayedHide(a)},submenuMouseOver:function(a){(a=a.findElement("div.popMenuBox"))&&!a.hasClassName("hidding")&&a.removeClassName("waitingtohide")},setDelayedHide:function(a){a.addClassName("waitingtohide");!a.hasClassName("hidding")&&!a.hasClassName("hiddingtimerset")&&
(a.addClassName("hiddingtimerset"),function(a,c){a.delayedHide(c)}.delay(this.hideDelay,this,a))},delayedHide:function(a){a.removeClassName("hiddingtimerset");a.hasClassName("waitingtohide")&&(this.hidingEffect(a,this.hidingDuration),a.addClassName("hidding"),function(a){a.removeClassName("waitingtohide");a.removeClassName("hidding");a.removeClassName("active")}.delay(this.hidingDuration,a))}});document.observe("dom:loaded",function(){new dropliciousMenu("#mainnav")});
function topNav(){for(var a=$(id),b=$("mainnav").next(li),c=b.indexOf(a),d=0,a=b.length;d<a;d++)b[d].observe("mouseover",function(){b[d].addClassName(css);d==c&&$("mainnav").next(li.dropDownMenu)?Effect.toggle(b[d].next(div.popMenuBox,0),"Slide"):allSel[d].removeClassName(css)}),b[d].observe("mouseout",function(){b[d].removerClassName(css)});Effect.toggle(ele,"Slide")};
